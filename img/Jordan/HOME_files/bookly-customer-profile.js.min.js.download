(function(a){window.booklyCustomerProfile=function(b){a('.bookly-js-show-past',a('.'+b.container)).on('click',function(f){f.preventDefault();var d=a(this),c=d.prevAll('table.bookly-appointments-table'),e=Ladda.create(this);e.start(),a.get(b.ajaxurl,{action:'bookly_pro_get_past_appointments',csrf_token:BooklyCustomerProfileL10n.csrf_token,columns:c.data('bookly_columns'),custom_fields:c.data('custom_fields'),page:c.data('page')+1},function(){},'json').done(function(b){e.stop(),b.data.more?d.find('span.bookly-label').html(BooklyCustomerProfileL10n.show_more):d.remove(),b.data.html&&(c.find('tr.bookly--no-appointments').remove(),a(b.data.html).hide().appendTo(c).show('slow'),c.data('page',c.data('page')+1))})})}})(jQuery)