(()=>{"use strict";const e=window.wp.i18n,a=window.wp.hooks,b="woocommerce-google-analytics",c="experimental__woocommerce_blocks",g=(a,b)=>{const c=a.sku?a.sku:"#"+a.id,d="categories"in a&&a.categories.length?a.categories[0].name:"";return{id:c,name:a.name,quantity:b,category:d,price:(parseInt(a.prices.price,10)/10**a.prices.currency_minor_unit).toString()}},h=(a,b)=>{const c=a.sku?a.sku:"#"+a.id,d=a.categories.length?a.categories[0].name:"";return{id:c,name:a.name,list_name:b,category:d,price:(parseInt(a.prices.price,10)/10**a.prices.currency_minor_unit).toString()}},d=(a,b)=>{if("function"!=typeof gtag)throw new Error("Function gtag not implemented.");console.log(`Tracking event ${a}`),window.gtag("event",a,b)};let i=-1;const f=a=>({storeCart:b})=>{var c;i!==a&&(d(0===a?"begin_checkout":"checkout_progress",{items:b.cartItems.map(g),coupon:(null===(c=b.cartCoupons[0])||void 0===c?void 0:c.code)||"",currency:b.cartTotals.currency_code,value:(parseInt(b.cartTotals.total_price,10)/10**b.cartTotals.currency_minor_unit).toString(),checkout_step:a}),i=a)},j=({step:a,option:b,value:c})=>()=>{d("set_checkout_option",{checkout_step:a,checkout_option:b,value:c}),i=a};(0,a.addAction)(`${c}-checkout-render-checkout-form`,b,f(0)),(0,a.addAction)(`${c}-checkout-set-email-address`,b,f(1)),(0,a.addAction)(`${c}-checkout-set-shipping-address`,b,f(2)),(0,a.addAction)(`${c}-checkout-set-billing-address`,b,f(3)),(0,a.addAction)(`${c}-checkout-set-phone-number`,b,({step:a,...b})=>{f("shipping"===a?2:3)(b)}),(0,a.addAction)(`${c}-checkout-set-selected-shipping-rate`,b,({shippingRateId:a})=>{j({step:4,option:(0,e.__)("Shipping Method","woocommerce"),value:a})()}),(0,a.addAction)(`${c}-checkout-set-active-payment-method`,b,({paymentMethodSlug:a})=>{j({step:5,option:(0,e.__)("Payment Method","woocommerce"),value:a})()}),(0,a.addAction)(`${c}-checkout-submit`,b,()=>{d("add_payment_info")}),(0,a.addAction)(`${c}-cart-add-item`,b,({product:a,quantity:b=1})=>{d("add_to_cart",{event_category:"ecommerce",event_label:(0,e.__)("Add to Cart","woocommerce"),items:[g(a,b)]})}),(0,a.addAction)(`${c}-cart-remove-item`,b,({product:a,quantity:b=1})=>{d("remove_from_cart",{event_category:"ecommerce",event_label:(0,e.__)("Remove Cart Item","woocommerce"),items:[g(a,b)]})}),(0,a.addAction)(`${c}-cart-set-item-quantity`,b,({product:a,quantity:b=1})=>{d("change_cart_quantity",{event_category:"ecommerce",event_label:(0,e.__)("Change Cart Item Quantity","woocommerce"),items:[g(a,b)]})}),(0,a.addAction)(`${c}-product-list-render`,b,({products:a,listName:b=(0,e.__)("Product List","woocommerce")})=>{0!==a.length&&d("view_item_list",{event_category:"engagement",event_label:(0,e.__)("Viewing products","woocommerce"),items:a.map((a,c)=>({...h(a,b),list_position:c+1}))})}),(0,a.addAction)(`${c}-product-view-link`,b,({product:a,listName:b})=>{d("select_content",{content_type:"product",items:[h(a,b)]})}),(0,a.addAction)(`${c}-product-search`,b,({searchTerm:a})=>{d("search",{search_term:a})}),(0,a.addAction)(`${c}-product-render`,b,({product:a,listName:b})=>{a&&d("view_item",{items:[h(a,b)]})}),(0,a.addAction)(`${c}-store-notice-create`,b,({status:a,content:b})=>{"error"===a&&d("exception",{description:b,fatal:!1})})})()