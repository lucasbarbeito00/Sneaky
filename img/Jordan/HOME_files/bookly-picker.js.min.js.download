/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */!function(a){"function"==typeof define&&define.amd?define("picker",["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):this.Picker=a(jQuery)}(function(a){function b(m,x,r,v){function s(){return b._.node("div",b._.node("div",b._.node("div",b._.node("div",f.component.nodes(j.open),n.box),n.wrap),n.frame),n.holder,'tabindex="-1"')}function A(){o.data(x,f).addClass(n.input).val(o.data("value")?f.get("select",k.format):m.value),k.editable||o.on("focus."+j.id+" click."+j.id,function(a){a.preventDefault(),f.open()}).on("keydown."+j.id,u),c(m,{haspopup:!0,expanded:!1,readonly:!1,owns:m.id+"_root"})}function z(){c(f.$root[0],"hidden",!0)}function w(){f.$holder.on({keydown:u,"focus.toOpen":t,blur:function(){o.removeClass(n.target)},focusin:function(a){f.$root.removeClass(n.focused),a.stopPropagation()},"mousedown click":function(b){var c=b.target;c!=f.$holder[0]&&(b.stopPropagation(),"mousedown"!=b.type||a(c).is("input, select, textarea, button, option")||(b.preventDefault(),f.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var d=a(this),b=d.data(),e=d.hasClass(n.navDisabled)||d.hasClass(n.disabled),c=g();c=c&&(c.type||c.href),(e||c&&!a.contains(f.$root[0],c))&&f.$holder[0].focus(),!e&&b.nav?f.set("highlight",f.component.item.highlight,{nav:b.nav}):!e&&"pick"in b?(f.set("select",b.pick),k.closeOnSelect&&f.close(!0)):b.clear?(f.clear(),k.closeOnClear&&f.close(!0)):b.close&&f.close(!0)})}function y(){var b;k.hiddenName===!0?(b=m.name,m.name=""):(b=["string"==typeof k.hiddenPrefix?k.hiddenPrefix:"","string"==typeof k.hiddenSuffix?k.hiddenSuffix:"_submit"],b=b[0]+m.name+b[1]),f._hidden=a('<input type=hidden name="'+b+'"'+(o.data("value")||m.value?' value="'+f.get("select",k.formatSubmit)+'"':"")+">")[0],o.on("change."+j.id,function(){f._hidden.value=m.value?f.get("select",k.formatSubmit):""})}function B(){p&&l?f.$holder.find("."+n.frame).one("transitionend",function(){f.$holder[0].focus()}):f.$holder[0].focus()}function t(a){a.stopPropagation(),o.addClass(n.target),f.$root.addClass(n.focused),f.open()}function u(b){var a=b.keyCode,c=/^(8|46)$/.test(a);return 27==a?(f.close(!0),!1):void((32==a||c||!j.open&&f.component.key[a])&&(b.preventDefault(),b.stopPropagation(),c?f.clear().close():f.open()))}if(!m)return b;var p=!1,j={id:m.id||"P"+Math.abs(~~(Math.random()*new Date))},k=r?a.extend(!0,{},r.defaults,v):v||{},n=a.extend({},b.klasses(),k.klass),o=a(m),q=function(){return this.start()},f=q.prototype={constructor:q,$node:o,start:function(){return j&&j.start?f:(j.methods={},j.start=!0,j.open=!1,j.type=m.type,m.autofocus=m==g(),m.readOnly=!k.editable,m.id=m.id||j.id,"text"!=m.type&&(m.type="text"),f.component=new r(f,k),f.$root=a('<div class="'+n.picker+'" id="'+m.id+'_root" />'),z(),f.$holder=a(s()).appendTo(f.$root),w(),k.formatSubmit&&y(),A(),k.containerHidden?a(k.containerHidden).append(f._hidden):o.after(f._hidden),k.container?a(k.container).append(f.$root):o.after(f.$root),f.on({start:f.component.onStart,render:f.component.onRender,stop:f.component.onStop,open:f.component.onOpen,close:f.component.onClose,set:f.component.onSet}).on({start:k.onStart,render:k.onRender,stop:k.onStop,open:k.onOpen,close:k.onClose,set:k.onSet}),p=i(f.$holder[0]),m.autofocus&&f.open(),f.trigger("start").trigger("render"))},render:function(b){return b?(f.$holder=a(s()),w(),f.$root.html(f.$holder)):f.$root.find("."+n.box).html(f.component.nodes(j.open)),f.trigger("render")},stop:function(){return j.start?(f.close(),f._hidden&&f._hidden.parentNode.removeChild(f._hidden),f.$root.remove(),o.removeClass(n.input).removeData(x),setTimeout(function(){o.off("."+j.id)},0),m.type=j.type,m.readOnly=!1,f.trigger("stop"),j.methods={},j.start=!1,f):f},open:function(g){return j.open?f:(o.addClass(n.active),c(m,"expanded",!0),setTimeout(function(){f.$root.addClass(n.opened),c(f.$root[0],"hidden",!1)},0),g!==!1&&(j.open=!0,p&&d.css("overflow","hidden").css("padding-right","+="+e()),B(),h.on("click."+j.id+" focusin."+j.id,function(b){var a=b.target;a!=m&&a!=document&&3!=b.which&&f.close(a===f.$holder[0])}).on("keydown."+j.id,function(c){var d=c.keyCode,e=f.component.key[d],g=c.target;27==d?f.close(!0):g!=f.$holder[0]||!e&&13!=d?a.contains(f.$root[0],g)&&13==d&&(c.preventDefault(),g.click()):(c.preventDefault(),e?b._.trigger(f.component.key.go,f,[b._.trigger(e)]):f.$root.find("."+n.highlighted).hasClass(n.disabled)||(f.set("select",f.component.item.highlight),k.closeOnSelect&&f.close(!0)))})),f.trigger("open"))},close:function(a){return a&&(k.editable?m.focus():(f.$holder.off("focus.toOpen").focus(),setTimeout(function(){f.$holder.on("focus.toOpen",t)},0))),o.removeClass(n.active),c(m,"expanded",!1),setTimeout(function(){f.$root.removeClass(n.opened+" "+n.focused),c(f.$root[0],"hidden",!0)},0),j.open?(j.open=!1,p&&d.css("overflow","").css("padding-right","-="+e()),h.off("."+j.id),f.trigger("close")):f},clear:function(a){return f.set("clear",null,a)},set:function(c,h,d){var b,e,i=a.isPlainObject(c),g=i?c:{};if(d=i&&a.isPlainObject(h)?h:d||{},c){i||(g[c]=h);for(b in g)e=g[b],b in f.component.item&&(void 0===e&&(e=null),f.component.set(b,e,d)),("select"==b||"clear"==b)&&o.val("clear"==b?"":f.get(b,k.format)).trigger("change");f.render()}return d.muted?f:f.trigger("set",g)},get:function(a,c){if(a=a||"value",null!=j[a])return j[a];if("valueSubmit"==a){if(f._hidden)return f._hidden.value;a="value"}if("value"==a)return m.value;if(a in f.component.item){if("string"==typeof c){var d=f.component.get(a);return d?b._.trigger(f.component.formats.toString,f.component,[c,d]):""}return f.component.get(a)}},on:function(c,h,i){var b,e,g=a.isPlainObject(c),d=g?c:{};if(c){g||(d[c]=h);for(b in d)e=d[b],i&&(b="_"+b),j.methods[b]=j.methods[b]||[],j.methods[b].push(e)}return f},off:function(){var a,b,c=arguments;for(a=0,namesCount=c.length;a<namesCount;a+=1)b=c[a],b in j.methods&&delete j.methods[b];return f},trigger:function(a,d){var c=function(c){var a=j.methods[c];a&&a.map(function(a){b._.trigger(a,f,[d])})};return c("_"+a),c(a),f}};return new q}function i(a){var b,c="position";return a.currentStyle?b=a.currentStyle[c]:window.getComputedStyle&&(b=getComputedStyle(a)[c]),"fixed"==b}function e(){var b,c,e,f;return d.height()<=k.height()?0:(b=a('<div style="visibility:hidden;width:100px" />').appendTo("body"),c=b[0].offsetWidth,b.css("overflow","scroll"),e=a('<div style="width:100%" />').appendTo(b),f=e[0].offsetWidth,b.remove(),c-f)}function c(c,b,e){if(a.isPlainObject(b))for(var d in b)f(c,d,b[d]);else f(c,b,e)}function f(b,a,c){b.setAttribute(("role"==a?"":"aria-")+a,c)}function j(b,d){var c,e,f;a.isPlainObject(b)||(b={attribute:d}),d="";for(c in b)e=("role"==c?"":"aria-")+c,f=b[c],d+=null==f?"":e+'="'+b[c]+'"';return d}function g(){try{return document.activeElement}catch(a){}}var k=a(window),h=a(document),d=a(document.documentElement),l=null!=document.documentElement.style.transition;return b.klasses=function(a){return a=a||"picker",{picker:a,opened:a+"--opened",focused:a+"--focused",input:a+"__input",active:a+"__input--active",target:a+"__input--target",holder:a+"__holder",frame:a+"__frame",wrap:a+"__wrap",box:a+"__box"}},b._={group:function(a){for(var c,e="",d=b._.trigger(a.min,a);d<=b._.trigger(a.max,a,[d]);d+=a.i)c=b._.trigger(a.item,a,[d]),e+=b._.node(a.node,c[0],c[1],c[2]);return e},node:function(e,b,c,d){return b?(b=a.isArray(b)?b.join(""):b,c=c?' class="'+c+'"':"",d=d?" "+d:"","<"+e+c+d+">"+b+"</"+e+">"):""},lead:function(a){return(10>a?"0":"")+a},trigger:function(a,b,c){return"function"==typeof a?a.apply(b,c||[]):a},digits:function(a){return/\d/.test(a[1])?2:1},isDate:function(a){return{}.toString.call(a).indexOf("Date")>-1&&this.isInteger(a.getDate())},isInteger:function(a){return{}.toString.call(a).indexOf("Number")>-1&&a%1===0},ariaAttr:j},b.extend=function(c,d){a.fn[c]=function(e,g){var f=this.data(c);return"picker"==e?f:f&&"string"==typeof e?b._.trigger(f[e],f,[g]):this.each(function(){var f=a(this);f.data(c)||new b(this,c,d,e)})},a.fn[c].defaults=d.defaults},b})